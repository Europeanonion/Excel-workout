PASS src/features/excelParsing/excelParser.test.ts
  ‚óè Console

    console.error
      Error parsing Excel file: Error: No data found in the Excel file (or file is too short).
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:20:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:49:9)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:49:9)

    console.warn
      Row 4 is missing an exercise name and might be skipped.

      116 |
      117 |       if (!exercise.name) {
    > 118 |           console.warn(`Row ${rowIndex + 3} is missing an exercise name and might be skipped.`); // +3 because of skipping first two rows
          |                   ^
      119 |       }
      120 |       return exercise as Exercise;
      121 |     }).filter(exercise => exercise.name !== undefined) as Exercise[];

      at map (src/features/excelParsing/excelParser.ts:118:19)
          at Array.map (<anonymous>)
      at parseExcelFile (src/features/excelParsing/excelParser.ts:81:44)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:182:20)

    console.error
      Error parsing Excel file: Error: Missing header row in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:33:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:225:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:225:7)

    console.error
      Error parsing Excel file: Error: Missing required 'Exercise' column in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:77:13)
          at processTicksAndRejections (node:internal/process/task_queues:95:5)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:283:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:283:7)

FAIL src/components/ExcelUploader/ExcelUploader.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      15 |
      16 |     it('renders upload button and help text', () => {
    > 17 |         render(<ExcelUploader onUploadSuccess={() => {}} onUploadError={() => {}} />);
         |               ^
      18 |         expect(screen.getByLabelText('Choose Excel file')).toBeInTheDocument();
      19 |         expect(screen.getByText('Choose Excel File')).toBeInTheDocument();
      20 |         expect(screen.getByText('Supported formats: .xlsx, .xls')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:17:15)

  ‚óè ExcelUploader ‚Ä∫ handles invalid file type

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      82 |         })
      83 |
    > 84 |         const newInput = screen.getByLabelText('Choose Excel file');
         |                                 ^
      85 |
      86 |         await act(async () => {
      87 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:84:33)

  ‚óè ExcelUploader ‚Ä∫ handles parsing errors

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |         })
      119 |
    > 120 |         const newInput = screen.getByLabelText('Choose Excel file');
          |                                 ^
      121 |
      122 |         await act(async () => {
      123 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:120:33)

FAIL src/App.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/App.tsx'

    Require stack:
      src/App.tsx
      src/App.test.tsx

      1 | import React, { useState, useCallback } from 'react';
    > 2 | import { BrowserRouter, Routes, Route, useParams } from 'react-router-dom';
        | ^
      3 | import { ExcelUploader } from './components/ExcelUploader';
      4 | import { ProgramList } from './components/ProgramList';
      5 | import { WorkoutDetails } from './components/WorkoutDetails';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/App.tsx:2:1)
      at Object.<anonymous> (src/App.test.tsx:3:1)

FAIL src/components/ProgramList/ProgramList.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/ProgramList/ProgramList.tsx'

    Require stack:
      src/components/ProgramList/ProgramList.tsx
      src/components/ProgramList/ProgramList.test.tsx

      1 | import React, { useState, useEffect } from 'react';
    > 2 | import { useNavigate } from 'react-router-dom';
        | ^
      3 | import { WorkoutProgram } from '../../types';
      4 | import { getAllWorkoutPrograms } from '../../lib/indexedDB';
      5 | import styles from './program-list.module.css';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.tsx:2:1)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.test.tsx:3:1)

PASS src/components/WorkoutSession/WorkoutSession.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      40 |
      41 |   it('renders workout session component', async () => {
    > 42 |       await act(async () => {
         |                ^
      43 |           render(<WorkoutSession workout={mockWorkout} programId={programId} />);
      44 |       });
      45 |     expect(screen.getByText(/Workout Session: Push/i)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at Object.<anonymous> (src/components/WorkoutSession/WorkoutSession.test.tsx:42:16)

FAIL src/components/WorkoutDetails/WorkoutDetails.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      51 |     () => new Promise((resolve) => setTimeout(resolve, 50))
      52 |   );
    > 53 |   render(<WorkoutDetails programId="test-program-id" />);
         |         ^
      54 |   expect(screen.getByText(/Loading program.../i)).toBeInTheDocument();
      55 |   await waitFor(() => expect(screen.queryByText(/Loading program.../i)).not.toBeInTheDocument(), {timeout: 100});
      56 | });

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:53:9)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

    console.error
      Error loading program: Error: Failed to load program
          at Object.<anonymous> (/workspaces/Excel-workout/src/components/WorkoutDetails/WorkoutDetails.test.tsx:59:45)
          at Promise.then.completed (/workspaces/Excel-workout/node_modules/jest-circus/build/utils.js:391:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/workspaces/Excel-workout/node_modules/jest-circus/build/utils.js:316:10)
          at _callCircusTest (/workspaces/Excel-workout/node_modules/jest-circus/build/run.js:218:40)
          at _runTest (/workspaces/Excel-workout/node_modules/jest-circus/build/run.js:155:3)
          at _runTestsForDescribeBlock (/workspaces/Excel-workout/node_modules/jest-circus/build/run.js:66:9)
          at run (/workspaces/Excel-workout/node_modules/jest-circus/build/run.js:25:3)
          at runAndTransformResultsToJestFormat (/workspaces/Excel-workout/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:170:21)
          at jestAdapter (/workspaces/Excel-workout/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:82:19)
          at runTestInternal (/workspaces/Excel-workout/node_modules/jest-runner/build/runTest.js:389:16)
          at runTest (/workspaces/Excel-workout/node_modules/jest-runner/build/runTest.js:475:34)
          at TestRunner.runTests (/workspaces/Excel-workout/node_modules/jest-runner/build/index.js:101:12)
          at TestScheduler.scheduleTests (/workspaces/Excel-workout/node_modules/@jest/core/build/TestScheduler.js:333:13)
          at runJest (/workspaces/Excel-workout/node_modules/@jest/core/build/runJest.js:404:19)

      50 |       } catch (err) {
      51 |         setError('Failed to load workout program. Please try again later.');
    > 52 |         console.error('Error loading program:', err);
         |                 ^
      53 |       } finally {
      54 |         setIsLoading(false);
      55 |       }

      at loadProgram (src/components/WorkoutDetails/WorkoutDetails.tsx:52:17)

  ‚óè renders workout program details

    Unable to find role="group" and name `/exercise-Bench Press/i`

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Workout Details for Test Program"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<h2>[39m
            [0mTest Program[0m
          [36m</h2>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"workout-1-Push"[39m
            [33mclass[39m=[32m"workout"[39m
            [33mrole[39m=[32m"group"[39m
          [36m>[39m
            [36m<h3[39m
              [33mid[39m=[32m"workout-1-Push"[39m
            [36m>[39m
              [0m1[0m
              [0m - [0m
              [0mPush[0m
            [36m</h3>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Workout Session for Push"[39m
              [33mclass[39m=[32m"container"[39m
              [33mrole[39m=[32m"region"[39m
            [36m>[39m
              [36m<h2>[39m
                [0mWorkout Session: [0m
                [0mPush[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"exerciseContainer"[39m
              [36m>[39m
                [36m<h3>[39m
                  [0mBench Press[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"setsContainer"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"noSets"[39m
                  [36m>[39m
                    [0mNo sets completed yet.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Add set for Bench Press"[39m
                    [33mclass[39m=[32m"addSetButton"[39m
                  [36m>[39m
                    [0mAdd Set[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"notesContainer"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"inputLabel"[39m
                  [36m>[39m
                    [0mNotes:[0m
                    [36m<textarea[39m
                      [33maria-label[39m=[32m"Notes for Bench Press"[39m
                      [33mclass[39m=[32m"textareaField"[39m
                    [36m/>[39m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"finishButton"[39m
              [36m>[39m
                [0mFinish Workout[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"exercise-Bench Press"[39m
              [33mclass[39m=[32m"exercise"[39m
              [33mrole[39m=[32m"group"[39m
            [36m>[39m
              [36m<h4[39m
                [33mid[39m=[32m"exercise-Bench Press"[39m
              [36m>[39m
                [0mBench Press[0m
              [36m</h4>[39m
              [36m<p>[39m
                [0mWarmup Sets: [0m
                [0m2[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mWorking Sets: [0m
                [0m3[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mReps: [0m
                [0m8-12[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mLoad: [0m
                [0m100[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRPE: [0m
                [0m8[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRest: [0m
                [0m120[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 1: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 2: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mNotes: [0m
                [0mN/A[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<h3[39m
            [33mid[39m=[32m"workout-history"[39m
          [36m>[39m
            [0mWorkout History[0m
          [36m</h3>[39m
          [36m<ul[39m
            [33maria-labelledby[39m=[32m"workout-history"[39m
          [36m>[39m
            [36m<li>[39m
              [0m1/1/2024[0m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      68 |   render(<WorkoutDetails programId="test-program-id" />);
      69 |
    > 70 |   await waitFor(() => {
         |                ^
      71 |     expect(screen.getByText(/Test Program/i)).toBeInTheDocument();
      72 |     expect(screen.getByText(/1 - Push/i)).toBeInTheDocument();
      73 |     const exerciseSection = screen.getByRole('group', { name: /exercise-Bench Press/i });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:70:16)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

Test Suites: 4 failed, 2 passed, 6 total
Tests:       3 failed, 25 passed, 28 total
Snapshots:   0 total
Time:        5.398 s
Ran all test suites related to changed files.

FAIL src/components/WorkoutDetails/WorkoutDetails.test.tsx
  ‚óè Test suite failed to run

    SyntaxError: /workspaces/Excel-workout/src/components/WorkoutDetails/WorkoutDetails.tsx: Unexpected token, expected "," (52:47)

      50 |       } catch (err) {
      51 |         setError('Failed to load workout program. Please try again later.');
    > 52 |         console.error('Error loading program:' err);
         |                                                ^
      53 |       } finally {
      54 |         setIsLoading(false);
      55 |       }

      at toParseError (node_modules/@babel/parser/src/parse-error.ts:95:45)
      at TypeScriptParserMixin.raise (node_modules/@babel/parser/src/tokenizer/index.ts:1497:19)
      at TypeScriptParserMixin.unexpected (node_modules/@babel/parser/src/tokenizer/index.ts:1537:16)
      at TypeScriptParserMixin.expect (node_modules/@babel/parser/src/parser/util.ts:157:12)
      at TypeScriptParserMixin.parseCallExpressionArguments (node_modules/@babel/parser/src/parser/expression.ts:999:14)
      at TypeScriptParserMixin.parseCoverCallAndAsyncArrowHead (node_modules/@babel/parser/src/parser/expression.ts:888:29)
      at TypeScriptParserMixin.parseSubscript (node_modules/@babel/parser/src/parser/expression.ts:777:19)
      at TypeScriptParserMixin.parseSubscript (node_modules/@babel/parser/src/plugins/typescript/index.ts:2734:20)
      at TypeScriptParserMixin.parseSubscripts (node_modules/@babel/parser/src/parser/expression.ts:735:19)
      at TypeScriptParserMixin.parseExprSubscripts (node_modules/@babel/parser/src/parser/expression.ts:720:17)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:693:21)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/parser/expression.ts:655:23)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/plugins/typescript/index.ts:3735:20)
      at TypeScriptParserMixin.parseMaybeUnaryOrPrivate (node_modules/@babel/parser/src/parser/expression.ts:389:14)
      at TypeScriptParserMixin.parseExprOps (node_modules/@babel/parser/src/parser/expression.ts:401:23)
      at TypeScriptParserMixin.parseMaybeConditional (node_modules/@babel/parser/src/parser/expression.ts:356:23)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/parser/expression.ts:298:21)
      at TypeScriptParserMixin.parseMaybeAssign (node_modules/@babel/parser/src/plugins/typescript/index.ts:3607:22)
      at TypeScriptParserMixin.parseExpressionBase (node_modules/@babel/parser/src/parser/expression.ts:221:23)
      at callback (node_modules/@babel/parser/src/parser/expression.ts:212:39)
      at TypeScriptParserMixin.allowInAnd (node_modules/@babel/parser/src/parser/expression.ts:3112:16)
      at TypeScriptParserMixin.parseExpression (node_modules/@babel/parser/src/parser/expression.ts:212:17)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/parser/statement.ts:659:23)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3056:20)
      at TypeScriptParserMixin.parseStatementLike (node_modules/@babel/parser/src/parser/statement.ts:437:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:386:17)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody (node_modules/@babel/parser/src/parser/statement.ts:1420:16)
      at TypeScriptParserMixin.parseBlockBody (node_modules/@babel/parser/src/parser/statement.ts:1393:10)
      at TypeScriptParserMixin.parseBlock (node_modules/@babel/parser/src/parser/statement.ts:1361:10)
      at callback (node_modules/@babel/parser/src/parser/statement.ts:1202:16)
      at TypeScriptParserMixin.withSmartMixTopicForbiddingContext (node_modules/@babel/parser/src/parser/expression.ts:3091:14)
      at TypeScriptParserMixin.parseTryStatement (node_modules/@babel/parser/src/parser/statement.ts:1200:14)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/parser/statement.ts:504:21)
      at TypeScriptParserMixin.parseStatementContent (node_modules/@babel/parser/src/plugins/typescript/index.ts:3056:20)
      at TypeScriptParserMixin.parseStatementLike (node_modules/@babel/parser/src/parser/statement.ts:437:17)
      at TypeScriptParserMixin.parseStatementListItem (node_modules/@babel/parser/src/parser/statement.ts:386:17)
      at TypeScriptParserMixin.parseBlockOrModuleBlockBody (node_modules/@babel/parser/src/parser/statement.ts:1420:16)
      at TypeScriptParserMixin.parseBlockBody (node_modules/@babel/parser/src/parser/statement.ts:1393:10)
      at TypeScriptParserMixin.parseBlock (node_modules/@babel/parser/src/parser/statement.ts:1361:10)
      at TypeScriptParserMixin.parseFunctionBody (node_modules/@babel/parser/src/parser/expression.ts:2557:24)
      at TypeScriptParserMixin.parseArrowExpression (node_modules/@babel/parser/src/parser/expression.ts:2498:10)
      at TypeScriptParserMixin.parseAsyncArrowFromCallExpression (node_modules/@babel/parser/src/parser/expression.ts:1030:10)
      at TypeScriptParserMixin.parseAsyncArrowFromCallExpression (node_modules/@babel/parser/src/plugins/typescript/index.ts:3567:20)
      at TypeScriptParserMixin.parseCoverCallAndAsyncArrowHead (node_modules/@babel/parser/src/parser/expression.ts:909:27)
      at TypeScriptParserMixin.parseSubscript (node_modules/@babel/parser/src/parser/expression.ts:777:19)
      at TypeScriptParserMixin.parseSubscript (node_modules/@babel/parser/src/plugins/typescript/index.ts:2734:20)
      at TypeScriptParserMixin.parseSubscripts (node_modules/@babel/parser/src/parser/expression.ts:735:19)
      at TypeScriptParserMixin.parseExprSubscripts (node_modules/@babel/parser/src/parser/expression.ts:720:17)
      at TypeScriptParserMixin.parseUpdate (node_modules/@babel/parser/src/parser/expression.ts:693:21)
      at TypeScriptParserMixin.parseMaybeUnary (node_modules/@babel/parser/src/parser/expression.ts:655:23)

FAIL src/components/ExcelUploader/ExcelUploader.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      15 |
      16 |     it('renders upload button and help text', () => {
    > 17 |         render(<ExcelUploader onUploadSuccess={() => {}} onUploadError={() => {}} />);
         |               ^
      18 |         expect(screen.getByLabelText('Choose Excel file')).toBeInTheDocument();
      19 |         expect(screen.getByText('Choose Excel File')).toBeInTheDocument();
      20 |         expect(screen.getByText('Supported formats: .xlsx, .xls')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:17:15)

  ‚óè ExcelUploader ‚Ä∫ handles invalid file type

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      82 |         })
      83 |
    > 84 |         const newInput = screen.getByLabelText('Choose Excel file');
         |                                 ^
      85 |
      86 |         await act(async () => {
      87 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:84:33)

  ‚óè ExcelUploader ‚Ä∫ handles parsing errors

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |         })
      119 |
    > 120 |         const newInput = screen.getByLabelText('Choose Excel file');
          |                                 ^
      121 |
      122 |         await act(async () => {
      123 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:120:33)

PASS src/features/excelParsing/excelParser.test.ts
  ‚óè Console

    console.error
      Error parsing Excel file: Error: No data found in the Excel file (or file is too short).
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:20:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:49:9)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:49:9)

    console.warn
      Row 4 is missing an exercise name and might be skipped.

      116 |
      117 |       if (!exercise.name) {
    > 118 |           console.warn(`Row ${rowIndex + 3} is missing an exercise name and might be skipped.`); // +3 because of skipping first two rows
          |                   ^
      119 |       }
      120 |       return exercise as Exercise;
      121 |     }).filter(exercise => exercise.name !== undefined) as Exercise[];

      at map (src/features/excelParsing/excelParser.ts:118:19)
          at Array.map (<anonymous>)
      at parseExcelFile (src/features/excelParsing/excelParser.ts:81:44)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:182:20)

    console.error
      Error parsing Excel file: Error: Missing header row in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:33:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:225:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:225:7)

    console.error
      Error parsing Excel file: Error: Missing required 'Exercise' column in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:77:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:283:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:283:7)

PASS src/components/WorkoutSession/WorkoutSession.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      40 |
      41 |   it('renders workout session component', async () => {
    > 42 |       await act(async () => {
         |                ^
      43 |           render(<WorkoutSession workout={mockWorkout} programId={programId} />);
      44 |       });
      45 |     expect(screen.getByText(/Workout Session: Push/i)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at Object.<anonymous> (src/components/WorkoutSession/WorkoutSession.test.tsx:42:16)

FAIL src/components/ProgramList/ProgramList.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/ProgramList/ProgramList.tsx'

    Require stack:
      src/components/ProgramList/ProgramList.tsx
      src/components/ProgramList/ProgramList.test.tsx

      1 | import React, { useState, useEffect } from 'react';
    > 2 | import { useNavigate } from 'react-router-dom';
        | ^
      3 | import { WorkoutProgram } from '../../types';
      4 | import { getAllWorkoutPrograms } from '../../lib/indexedDB';
      5 | import styles from './program-list.module.css';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.tsx:2:1)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.test.tsx:3:1)

FAIL src/App.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/App.tsx'

    Require stack:
      src/App.tsx
      src/App.test.tsx

      1 | import React, { useState, useCallback } from 'react';
    > 2 | import { BrowserRouter, Routes, Route, useParams } from 'react-router-dom';
        | ^
      3 | import { ExcelUploader } from './components/ExcelUploader';
      4 | import { ProgramList } from './components/ProgramList';
      5 | import { WorkoutDetails } from './components/WorkoutDetails';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/App.tsx:2:1)
      at Object.<anonymous> (src/App.test.tsx:3:1)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

Test Suites: 4 failed, 2 passed, 6 total
Tests:       2 failed, 21 passed, 23 total
Snapshots:   0 total
Time:        1.642 s, estimated 4 s
Ran all test suites related to changed files.

FAIL src/components/ExcelUploader/ExcelUploader.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      15 |
      16 |     it('renders upload button and help text', () => {
    > 17 |         render(<ExcelUploader onUploadSuccess={() => {}} onUploadError={() => {}} />);
         |               ^
      18 |         expect(screen.getByLabelText('Choose Excel file')).toBeInTheDocument();
      19 |         expect(screen.getByText('Choose Excel File')).toBeInTheDocument();
      20 |         expect(screen.getByText('Supported formats: .xlsx, .xls')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:17:15)

  ‚óè ExcelUploader ‚Ä∫ handles invalid file type

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      82 |         })
      83 |
    > 84 |         const newInput = screen.getByLabelText('Choose Excel file');
         |                                 ^
      85 |
      86 |         await act(async () => {
      87 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:84:33)

  ‚óè ExcelUploader ‚Ä∫ handles parsing errors

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |         })
      119 |
    > 120 |         const newInput = screen.getByLabelText('Choose Excel file');
          |                                 ^
      121 |
      122 |         await act(async () => {
      123 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:120:33)

PASS src/components/WorkoutSession/WorkoutSession.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      40 |
      41 |   it('renders workout session component', async () => {
    > 42 |       await act(async () => {
         |                ^
      43 |           render(<WorkoutSession workout={mockWorkout} programId={programId} />);
      44 |       });
      45 |     expect(screen.getByText(/Workout Session: Push/i)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at Object.<anonymous> (src/components/WorkoutSession/WorkoutSession.test.tsx:42:16)

PASS src/features/excelParsing/excelParser.test.ts
  ‚óè Console

    console.error
      Error parsing Excel file: Error: No data found in the Excel file (or file is too short).
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:20:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:49:9)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:49:9)

    console.warn
      Row 4 is missing an exercise name and might be skipped.

      116 |
      117 |       if (!exercise.name) {
    > 118 |           console.warn(`Row ${rowIndex + 3} is missing an exercise name and might be skipped.`); // +3 because of skipping first two rows
          |                   ^
      119 |       }
      120 |       return exercise as Exercise;
      121 |     }).filter(exercise => exercise.name !== undefined) as Exercise[];

      at map (src/features/excelParsing/excelParser.ts:118:19)
          at Array.map (<anonymous>)
      at parseExcelFile (src/features/excelParsing/excelParser.ts:81:44)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:182:20)

    console.error
      Error parsing Excel file: Error: Missing header row in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:33:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:225:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:225:7)

    console.error
      Error parsing Excel file: Error: Missing required 'Exercise' column in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:77:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:283:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:283:7)

FAIL src/components/WorkoutDetails/WorkoutDetails.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      51 |     () => new Promise((resolve) => setTimeout(resolve, 50))
      52 |   );
    > 53 |   render(<WorkoutDetails programId="test-program-id" />);
         |         ^
      54 |   expect(screen.getByText(/Loading program.../i)).toBeInTheDocument();
      55 |   await waitFor(() => expect(screen.queryByText(/Loading program.../i)).not.toBeInTheDocument(), {timeout: 100});
      56 | });

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:53:9)

    console.error
      Error loading program: Failed to load program

      51 |         setError('Failed to load workout program. Please try again later.');
      52 |         if (err instanceof Error) {
    > 53 |             console.error('Error loading program:', err.message);
         |                 ^
      54 |         } else {
      55 |             console.error('Error loading program:', err)
      56 |         }

      at loadProgram (src/components/WorkoutDetails/WorkoutDetails.tsx:53:17)

  ‚óè renders workout program details

    Unable to find role="group" and name `/exercise-Bench Press/i`

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Workout Details for Test Program"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<h2>[39m
            [0mTest Program[0m
          [36m</h2>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"workout-1-Push"[39m
            [33mclass[39m=[32m"workout"[39m
            [33mrole[39m=[32m"group"[39m
          [36m>[39m
            [36m<h3[39m
              [33mid[39m=[32m"workout-1-Push"[39m
            [36m>[39m
              [0m1[0m
              [0m - [0m
              [0mPush[0m
            [36m</h3>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Workout Session for Push"[39m
              [33mclass[39m=[32m"container"[39m
              [33mrole[39m=[32m"region"[39m
            [36m>[39m
              [36m<h2>[39m
                [0mWorkout Session: [0m
                [0mPush[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"exerciseContainer"[39m
              [36m>[39m
                [36m<h3>[39m
                  [0mBench Press[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"setsContainer"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"noSets"[39m
                  [36m>[39m
                    [0mNo sets completed yet.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Add set for Bench Press"[39m
                    [33mclass[39m=[32m"addSetButton"[39m
                  [36m>[39m
                    [0mAdd Set[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"notesContainer"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"inputLabel"[39m
                  [36m>[39m
                    [0mNotes:[0m
                    [36m<textarea[39m
                      [33maria-label[39m=[32m"Notes for Bench Press"[39m
                      [33mclass[39m=[32m"textareaField"[39m
                    [36m/>[39m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"finishButton"[39m
              [36m>[39m
                [0mFinish Workout[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"exercise-Bench Press"[39m
              [33mclass[39m=[32m"exercise"[39m
              [33mrole[39m=[32m"group"[39m
            [36m>[39m
              [36m<h4[39m
                [33mid[39m=[32m"exercise-Bench Press"[39m
              [36m>[39m
                [0mBench Press[0m
              [36m</h4>[39m
              [36m<p>[39m
                [0mWarmup Sets: [0m
                [0m2[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mWorking Sets: [0m
                [0m3[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mReps: [0m
                [0m8-12[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mLoad: [0m
                [0m100[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRPE: [0m
                [0m8[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRest: [0m
                [0m120[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 1: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 2: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mNotes: [0m
                [0mN/A[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<h3[39m
            [33mid[39m=[32m"workout-history"[39m
          [36m>[39m
            [0mWorkout History[0m
          [36m</h3>[39m
          [36m<ul[39m
            [33maria-labelledby[39m=[32m"workout-history"[39m
          [36m>[39m
            [36m<li>[39m
              [0m1/1/2024[0m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      68 |   render(<WorkoutDetails programId="test-program-id" />);
      69 |
    > 70 |   await waitFor(() => {
         |                ^
      71 |     expect(screen.getByText(/Test Program/i)).toBeInTheDocument();
      72 |     expect(screen.getByText(/1 - Push/i)).toBeInTheDocument();
      73 |     const exerciseSection = screen.getByRole('group', { name: /exercise-Bench Press/i });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:70:16)

FAIL src/components/ProgramList/ProgramList.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/ProgramList/ProgramList.tsx'

    Require stack:
      src/components/ProgramList/ProgramList.tsx
      src/components/ProgramList/ProgramList.test.tsx

      1 | import React, { useState, useEffect } from 'react';
    > 2 | import { useNavigate } from 'react-router-dom';
        | ^
      3 | import { WorkoutProgram } from '../../types';
      4 | import { getAllWorkoutPrograms } from '../../lib/indexedDB';
      5 | import styles from './program-list.module.css';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.tsx:2:1)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.test.tsx:3:1)

FAIL src/App.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/App.tsx'

    Require stack:
      src/App.tsx
      src/App.test.tsx

      1 | import React, { useState, useCallback } from 'react';
    > 2 | import { BrowserRouter, Routes, Route, useParams } from 'react-router-dom';
        | ^
      3 | import { ExcelUploader } from './components/ExcelUploader';
      4 | import { ProgramList } from './components/ProgramList';
      5 | import { WorkoutDetails } from './components/WorkoutDetails';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/App.tsx:2:1)
      at Object.<anonymous> (src/App.test.tsx:3:1)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

Test Suites: 4 failed, 2 passed, 6 total
Tests:       3 failed, 25 passed, 28 total
Snapshots:   0 total
Time:        2.98 s
Ran all test suites related to changed files.

FAIL src/components/WorkoutDetails/WorkoutDetails.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      51 |     () => new Promise((resolve) => setTimeout(resolve, 50))
      52 |   );
    > 53 |   render(<WorkoutDetails programId="test-program-id" />);
         |         ^
      54 |   expect(screen.getByText(/Loading program.../i)).toBeInTheDocument();
      55 |   await waitFor(() => expect(screen.queryByText(/Loading program.../i)).not.toBeInTheDocument(), {timeout: 100});
      56 | });

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:53:9)

    console.error
      Error loading program: Failed to load program

      51 |         setError('Failed to load workout program. Please try again later.');
      52 |         if (err instanceof Error) {
    > 53 |             console.error('Error loading program:', err.message);
         |                 ^
      54 |         } else {
      55 |             console.error('Error loading program:', err);
      56 |         }

      at loadProgram (src/components/WorkoutDetails/WorkoutDetails.tsx:53:17)

  ‚óè renders workout program details

    Unable to find role="group" and name `/exercise-Bench Press/i`

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Workout Details for Test Program"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<h2>[39m
            [0mTest Program[0m
          [36m</h2>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"workout-1-Push"[39m
            [33mclass[39m=[32m"workout"[39m
            [33mrole[39m=[32m"group"[39m
          [36m>[39m
            [36m<h3[39m
              [33mid[39m=[32m"workout-1-Push"[39m
            [36m>[39m
              [0m1[0m
              [0m - [0m
              [0mPush[0m
            [36m</h3>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Workout Session for Push"[39m
              [33mclass[39m=[32m"container"[39m
              [33mrole[39m=[32m"region"[39m
            [36m>[39m
              [36m<h2>[39m
                [0mWorkout Session: [0m
                [0mPush[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"exerciseContainer"[39m
              [36m>[39m
                [36m<h3>[39m
                  [0mBench Press[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"setsContainer"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"noSets"[39m
                  [36m>[39m
                    [0mNo sets completed yet.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Add set for Bench Press"[39m
                    [33mclass[39m=[32m"addSetButton"[39m
                  [36m>[39m
                    [0mAdd Set[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"notesContainer"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"inputLabel"[39m
                  [36m>[39m
                    [0mNotes:[0m
                    [36m<textarea[39m
                      [33maria-label[39m=[32m"Notes for Bench Press"[39m
                      [33mclass[39m=[32m"textareaField"[39m
                    [36m/>[39m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"finishButton"[39m
              [36m>[39m
                [0mFinish Workout[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"exercise-Bench Press"[39m
              [33mclass[39m=[32m"exercise"[39m
              [33mrole[39m=[32m"group"[39m
            [36m>[39m
              [36m<h4[39m
                [33mid[39m=[32m"exercise-Bench Press"[39m
              [36m>[39m
                [0mBench Press[0m
              [36m</h4>[39m
              [36m<p>[39m
                [0mWarmup Sets: [0m
                [0m2[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mWorking Sets: [0m
                [0m3[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mReps: [0m
                [0m8-12[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mLoad: [0m
                [0m100[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRPE: [0m
                [0m8[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRest: [0m
                [0m120[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 1: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 2: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mNotes: [0m
                [0mN/A[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<h3[39m
            [33mid[39m=[32m"workout-history"[39m
          [36m>[39m
            [0mWorkout History[0m
          [36m</h3>[39m
          [36m<ul[39m
            [33maria-labelledby[39m=[32m"workout-history"[39m
          [36m>[39m
            [36m<li>[39m
              [0m1/1/2024[0m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      68 |   render(<WorkoutDetails programId="test-program-id" />);
      69 |
    > 70 |   await waitFor(() => {
         |                ^
      71 |     expect(screen.getByText(/Test Program/i)).toBeInTheDocument();
      72 |     expect(screen.getByText(/1 - Push/i)).toBeInTheDocument();
      73 |     const exerciseSection = screen.getByRole('group', { name: /exercise-Bench Press/i });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:70:16)

FAIL src/components/ExcelUploader/ExcelUploader.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      15 |
      16 |     it('renders upload button and help text', () => {
    > 17 |         render(<ExcelUploader onUploadSuccess={() => {}} onUploadError={() => {}} />);
         |               ^
      18 |         expect(screen.getByLabelText('Choose Excel file')).toBeInTheDocument();
      19 |         expect(screen.getByText('Choose Excel File')).toBeInTheDocument();
      20 |         expect(screen.getByText('Supported formats: .xlsx, .xls')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:17:15)

  ‚óè ExcelUploader ‚Ä∫ handles invalid file type

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      82 |         })
      83 |
    > 84 |         const newInput = screen.getByLabelText('Choose Excel file');
         |                                 ^
      85 |
      86 |         await act(async () => {
      87 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:84:33)

  ‚óè ExcelUploader ‚Ä∫ handles parsing errors

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |         })
      119 |
    > 120 |         const newInput = screen.getByLabelText('Choose Excel file');
          |                                 ^
      121 |
      122 |         await act(async () => {
      123 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:120:33)

PASS src/components/WorkoutSession/WorkoutSession.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      40 |
      41 |   it('renders workout session component', async () => {
    > 42 |       await act(async () => {
         |                ^
      43 |           render(<WorkoutSession workout={mockWorkout} programId={programId} />);
      44 |       });
      45 |     expect(screen.getByText(/Workout Session: Push/i)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at Object.<anonymous> (src/components/WorkoutSession/WorkoutSession.test.tsx:42:16)

PASS src/features/excelParsing/excelParser.test.ts
  ‚óè Console

    console.error
      Error parsing Excel file: Error: No data found in the Excel file (or file is too short).
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:20:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:49:9)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:49:9)

    console.warn
      Row 4 is missing an exercise name and might be skipped.

      116 |
      117 |       if (!exercise.name) {
    > 118 |           console.warn(`Row ${rowIndex + 3} is missing an exercise name and might be skipped.`); // +3 because of skipping first two rows
          |                   ^
      119 |       }
      120 |       return exercise as Exercise;
      121 |     }).filter(exercise => exercise.name !== undefined) as Exercise[];

      at map (src/features/excelParsing/excelParser.ts:118:19)
          at Array.map (<anonymous>)
      at parseExcelFile (src/features/excelParsing/excelParser.ts:81:44)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:182:20)

    console.error
      Error parsing Excel file: Error: Missing header row in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:33:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:225:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:225:7)

    console.error
      Error parsing Excel file: Error: Missing required 'Exercise' column in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:77:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:283:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:283:7)

FAIL src/components/ProgramList/ProgramList.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/ProgramList/ProgramList.tsx'

    Require stack:
      src/components/ProgramList/ProgramList.tsx
      src/components/ProgramList/ProgramList.test.tsx

      1 | import React, { useState, useEffect } from 'react';
    > 2 | import { useNavigate } from 'react-router-dom';
        | ^
      3 | import { WorkoutProgram } from '../../types';
      4 | import { getAllWorkoutPrograms } from '../../lib/indexedDB';
      5 | import styles from './program-list.module.css';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.tsx:2:1)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.test.tsx:3:1)

FAIL src/App.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/App.tsx'

    Require stack:
      src/App.tsx
      src/App.test.tsx

      1 | import React, { useState, useCallback } from 'react';
    > 2 | import { BrowserRouter, Routes, Route, useParams } from 'react-router-dom';
        | ^
      3 | import { ExcelUploader } from './components/ExcelUploader';
      4 | import { ProgramList } from './components/ProgramList';
      5 | import { WorkoutDetails } from './components/WorkoutDetails';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/App.tsx:2:1)
      at Object.<anonymous> (src/App.test.tsx:3:1)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

Test Suites: 4 failed, 2 passed, 6 total
Tests:       3 failed, 25 passed, 28 total
Snapshots:   0 total
Time:        2.654 s, estimated 3 s
Ran all test suites related to changed files.

FAIL src/components/WorkoutDetails/WorkoutDetails.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      51 |     () => new Promise((resolve) => setTimeout(resolve, 50))
      52 |   );
    > 53 |   render(<WorkoutDetails programId="test-program-id" />);
         |         ^
      54 |   expect(screen.getByText(/Loading program.../i)).toBeInTheDocument();
      55 |   await waitFor(() => expect(screen.queryByText(/Loading program.../i)).not.toBeInTheDocument(), {timeout: 100});
      56 | });

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:53:9)

    console.error
      Error loading program: Failed to load program

      51 |         setError('Failed to load workout program. Please try again later.');
      52 |         if (err instanceof Error) {
    > 53 |             console.error('Error loading program:', err.message);
         |                 ^
      54 |         } else {
      55 |             console.error('Error loading program:', err);
      56 |         }

      at loadProgram (src/components/WorkoutDetails/WorkoutDetails.tsx:53:17)

  ‚óè renders workout program details

    Unable to find role="group" and name `/Exercise: Bench Press/i`

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Workout Details for Test Program"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<h2>[39m
            [0mTest Program[0m
          [36m</h2>[39m
          [36m<div[39m
            [33maria-labelledby[39m=[32m"workout-1-Push"[39m
            [33mclass[39m=[32m"workout"[39m
            [33mrole[39m=[32m"group"[39m
          [36m>[39m
            [36m<h3[39m
              [33mid[39m=[32m"workout-1-Push"[39m
            [36m>[39m
              [0m1[0m
              [0m - [0m
              [0mPush[0m
            [36m</h3>[39m
            [36m<div[39m
              [33maria-label[39m=[32m"Workout Session for Push"[39m
              [33mclass[39m=[32m"container"[39m
              [33mrole[39m=[32m"region"[39m
            [36m>[39m
              [36m<h2>[39m
                [0mWorkout Session: [0m
                [0mPush[0m
              [36m</h2>[39m
              [36m<div[39m
                [33mclass[39m=[32m"exerciseContainer"[39m
              [36m>[39m
                [36m<h3>[39m
                  [0mBench Press[0m
                [36m</h3>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"setsContainer"[39m
                [36m>[39m
                  [36m<p[39m
                    [33mclass[39m=[32m"noSets"[39m
                  [36m>[39m
                    [0mNo sets completed yet.[0m
                  [36m</p>[39m
                  [36m<button[39m
                    [33maria-label[39m=[32m"Add set for Bench Press"[39m
                    [33mclass[39m=[32m"addSetButton"[39m
                  [36m>[39m
                    [0mAdd Set[0m
                  [36m</button>[39m
                [36m</div>[39m
                [36m<div[39m
                  [33mclass[39m=[32m"notesContainer"[39m
                [36m>[39m
                  [36m<label[39m
                    [33mclass[39m=[32m"inputLabel"[39m
                  [36m>[39m
                    [0mNotes:[0m
                    [36m<textarea[39m
                      [33maria-label[39m=[32m"Notes for Bench Press"[39m
                      [33mclass[39m=[32m"textareaField"[39m
                    [36m/>[39m
                  [36m</label>[39m
                [36m</div>[39m
              [36m</div>[39m
              [36m<button[39m
                [33mclass[39m=[32m"finishButton"[39m
              [36m>[39m
                [0mFinish Workout[0m
              [36m</button>[39m
            [36m</div>[39m
            [36m<div[39m
              [33maria-labelledby[39m=[32m"exercise-Bench Press"[39m
              [33mclass[39m=[32m"exercise"[39m
              [33mrole[39m=[32m"group"[39m
            [36m>[39m
              [36m<h4[39m
                [33mid[39m=[32m"exercise-Bench Press"[39m
              [36m>[39m
                [0mBench Press[0m
              [36m</h4>[39m
              [36m<p>[39m
                [0mWarmup Sets: [0m
                [0m2[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mWorking Sets: [0m
                [0m3[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mReps: [0m
                [0m8-12[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mLoad: [0m
                [0m100[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRPE: [0m
                [0m8[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mRest: [0m
                [0m120[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 1: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mSubstitution 2: [0m
                [0mN/A[0m
              [36m</p>[39m
              [36m<p>[39m
                [0mNotes: [0m
                [0mN/A[0m
              [36m</p>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<h3[39m
            [33mid[39m=[32m"workout-history"[39m
          [36m>[39m
            [0mWorkout History[0m
          [36m</h3>[39m
          [36m<ul[39m
            [33maria-labelledby[39m=[32m"workout-history"[39m
          [36m>[39m
            [36m<li>[39m
              [0m1/1/2024[0m
            [36m</li>[39m
          [36m</ul>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      68 |   render(<WorkoutDetails programId="test-program-id" />);
      69 |
    > 70 |   await waitFor(() => {
         |                ^
      71 |     expect(screen.getByText(/Test Program/i)).toBeInTheDocument();
      72 |     expect(screen.getByText(/1 - Push/i)).toBeInTheDocument();
      73 |     const exerciseSection = screen.getByRole('group', { name: /Exercise: Bench Press/i });

      at waitForWrapper (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/wait-for.js:166:27)
      at Object.<anonymous> (src/components/WorkoutDetails/WorkoutDetails.test.tsx:70:16)

FAIL src/components/ExcelUploader/ExcelUploader.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      15 |
      16 |     it('renders upload button and help text', () => {
    > 17 |         render(<ExcelUploader onUploadSuccess={() => {}} onUploadError={() => {}} />);
         |               ^
      18 |         expect(screen.getByLabelText('Choose Excel file')).toBeInTheDocument();
      19 |         expect(screen.getByText('Choose Excel File')).toBeInTheDocument();
      20 |         expect(screen.getByText('Supported formats: .xlsx, .xls')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:159:26)
      at render (node_modules/@testing-library/react/dist/pure.js:246:10)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:17:15)

  ‚óè ExcelUploader ‚Ä∫ handles invalid file type

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      82 |         })
      83 |
    > 84 |         const newInput = screen.getByLabelText('Choose Excel file');
         |                                 ^
      85 |
      86 |         await act(async () => {
      87 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:84:33)

  ‚óè ExcelUploader ‚Ä∫ handles parsing errors

    TestingLibraryElementError: Found multiple elements with the text of: Choose Excel file

    Here are the matching elements:

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-describedby[39m=[32m"upload-error"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    Ignored nodes: comments, script, style
    [36m<input[39m
      [33maccept[39m=[32m".xlsx,.xls"[39m
      [33maria-label[39m=[32m"Choose Excel file"[39m
      [33mclass[39m=[32m"fileInput"[39m
      [33mtype[39m=[32m"file"[39m
    [36m/>[39m

    (If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-describedby[39m=[32m"upload-error"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
      [36m<div>[39m
        [36m<div[39m
          [33maria-label[39m=[32m"Excel file upload"[39m
          [33mclass[39m=[32m"container"[39m
          [33mrole[39m=[32m"region"[39m
        [36m>[39m
          [36m<label[39m
            [33mclass[39m=[32m"uploadLabel"[39m
          [36m>[39m
            [36m<input[39m
              [33maccept[39m=[32m".xlsx,.xls"[39m
              [33maria-label[39m=[32m"Choose Excel file"[39m
              [33mclass[39m=[32m"fileInput"[39m
              [33mtype[39m=[32m"file"[39m
            [36m/>[39m
            [36m<span[39m
              [33mclass[39m=[32m"uploadButton"[39m
            [36m>[39m
              [0mChoose Excel File[0m
            [36m</span>[39m
          [36m</label>[39m
          [36m<div[39m
            [33mclass[39m=[32m"helpText"[39m
          [36m>[39m
            [0mSupported formats: .xlsx, .xls[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |         })
      119 |
    > 120 |         const newInput = screen.getByLabelText('Choose Excel file');
          |                                 ^
      121 |
      122 |         await act(async () => {
      123 |             fireEvent.change(newInput, { target: { files: [file] } });

      at Object.getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/config.js:37:19)
      at getElementError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:20:35)
      at getMultipleElementsFoundError (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:23:10)
      at node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:55:13
      at getByLabelText (node_modules/@testing-library/react/node_modules/@testing-library/dom/dist/query-helpers.js:95:19)
      at Object.<anonymous> (src/components/ExcelUploader/ExcelUploader.test.tsx:120:33)

PASS src/components/WorkoutSession/WorkoutSession.test.tsx
  ‚óè Console

    console.error
      Warning: `ReactDOMTestUtils.act` is deprecated in favor of `React.act`. Import `act` from `react` instead of `react-dom/test-utils`. See https://react.dev/warnings/react-dom-test-utils for more info.

      40 |
      41 |   it('renders workout session component', async () => {
    > 42 |       await act(async () => {
         |                ^
      43 |           render(<WorkoutSession workout={mockWorkout} programId={programId} />);
      44 |       });
      45 |     expect(screen.getByText(/Workout Session: Push/i)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:71:30)
      at error (node_modules/react-dom/cjs/react-dom-test-utils.development.js:45:7)
      at actWithWarning (node_modules/react-dom/cjs/react-dom-test-utils.development.js:1736:7)
      at node_modules/@testing-library/react/dist/act-compat.js:63:25
      at Object.<anonymous> (src/components/WorkoutSession/WorkoutSession.test.tsx:42:16)

PASS src/features/excelParsing/excelParser.test.ts
  ‚óè Console

    console.error
      Error parsing Excel file: Error: No data found in the Excel file (or file is too short).
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:20:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:49:9)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:49:9)

    console.warn
      Row 4 is missing an exercise name and might be skipped.

      116 |
      117 |       if (!exercise.name) {
    > 118 |           console.warn(`Row ${rowIndex + 3} is missing an exercise name and might be skipped.`); // +3 because of skipping first two rows
          |                   ^
      119 |       }
      120 |       return exercise as Exercise;
      121 |     }).filter(exercise => exercise.name !== undefined) as Exercise[];

      at map (src/features/excelParsing/excelParser.ts:118:19)
          at Array.map (<anonymous>)
      at parseExcelFile (src/features/excelParsing/excelParser.ts:81:44)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:182:20)

    console.error
      Error parsing Excel file: Error: Missing header row in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:33:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:225:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:225:7)

    console.error
      Error parsing Excel file: Error: Missing required 'Exercise' column in the Excel file.
          at parseExcelFile (/workspaces/Excel-workout/src/features/excelParsing/excelParser.ts:77:13)
          at Object.<anonymous> (/workspaces/Excel-workout/src/features/excelParsing/excelParser.test.ts:283:7)

      164 |
      165 |   } catch (error: any) {
    > 166 |     console.error("Error parsing Excel file:", error);
          |             ^
      167 |     throw new Error(`Error parsing Excel file: ${error.message || error}`);
      168 |   }
      169 | }

      at parseExcelFile (src/features/excelParsing/excelParser.ts:166:13)
      at Object.<anonymous> (src/features/excelParsing/excelParser.test.ts:283:7)

FAIL src/components/ProgramList/ProgramList.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/components/ProgramList/ProgramList.tsx'

    Require stack:
      src/components/ProgramList/ProgramList.tsx
      src/components/ProgramList/ProgramList.test.tsx

      1 | import React, { useState, useEffect } from 'react';
    > 2 | import { useNavigate } from 'react-router-dom';
        | ^
      3 | import { WorkoutProgram } from '../../types';
      4 | import { getAllWorkoutPrograms } from '../../lib/indexedDB';
      5 | import styles from './program-list.module.css';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.tsx:2:1)
      at Object.<anonymous> (src/components/ProgramList/ProgramList.test.tsx:3:1)

FAIL src/App.test.tsx
  ‚óè Test suite failed to run

    Cannot find module 'react-router-dom' from 'src/App.tsx'

    Require stack:
      src/App.tsx
      src/App.test.tsx

      1 | import React, { useState, useCallback } from 'react';
    > 2 | import { BrowserRouter, Routes, Route, useParams } from 'react-router-dom';
        | ^
      3 | import { ExcelUploader } from './components/ExcelUploader';
      4 | import { ProgramList } from './components/ProgramList';
      5 | import { WorkoutDetails } from './components/WorkoutDetails';

      at Resolver.resolveModule (node_modules/jest-resolve/build/resolver.js:324:11)
      at Object.<anonymous> (src/App.tsx:2:1)
      at Object.<anonymous> (src/App.test.tsx:3:1)
      at TestScheduler.scheduleTests (node_modules/@jest/core/build/TestScheduler.js:333:13)
      at runJest (node_modules/@jest/core/build/runJest.js:404:19)

Test Suites: 4 failed, 2 passed, 6 total
Tests:       3 failed, 25 passed, 28 total
Snapshots:   0 total
Time:        2.48 s, estimated 3 s
Ran all test suites related to changed files.

